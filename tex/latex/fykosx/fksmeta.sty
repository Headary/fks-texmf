%
% @author Michal Koutný <michal@fykos.cz>
%
% @description Informations about single seminars. Keeps the
%              LaTeX classes generic.
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{fksmeta}[2011/09/11 Information about seminars]

\newcommand\FYKOS{{FYKOS}}
\newcommand\met@headername{Name displayed in the header}
\newcommand\met@volumeid{Identification of the volume}
\newcommand\met@address{Contact address}
\newcommand\met@licence{Licence}
\newcommand\metaprobletter[1]{\expandafter \@metaprobletter \csname c@#1\endcsname}
\newcommand\@metaprobletter[1]{\ifcase #1 \or 1\or 2\or 3\or 4\or 5\or P\or E\or S\else \@ctrerr\fi}

% results table parameter
\newcommand\met@probcols{^r^r^r^r^r^r} % tabular columns defs
\newcommand\met@probheader{1 & 2 & 3 & 4 & P & E & S} % results table problems header
\newcommand\mat@resultscols{x{\bfseries}rA{\itshape}p{0.22\textwidth}^X% order, name, school
\met@probcols%
@{\hspace{12pt}}A{\bfseries}r@{\hspace{8pt}}A{\itshape}r@{\hspace{8pt}}A{\bfseries}r} % batch, percent, sum

\newcommand\mat@resultsheader{& {\normalfont\bfseries jméno} & škola & %
\met@probheader & %
\Roman{solvedbatch} & \textnormal{\%} & $\Sigma$ \\}

% FYKOS
\DeclareOption{fykos}{%  
  \renewcommand\met@headername{Fyzikální korespondenční seminář UK MFF}
  \renewcommand\met@volumeid{ročník \Roman{year}\qquad číslo \arabic{batch}/7}
  \renewcommand\met@address{%
\begin{tabular}{r>{\slshape\bfseries}l}
  \multirow{5}{*}{\includegraphics{logo5.eps}} & \FYKOS \\
  & UK v Praze, Matematicko-fyzikální fakulta\\
  & Ústav teoretické fyziky\\
  & V Holešovičkách 2\\
  & 180\,00 Praha 8\\
\noalign{\smallskip}
  www: & \normalfont\url{http://fykos.cz}\\
  e-mail pro řešení: & \normalfont\mail{fykos-solutions@fykos.cz}\\
  e-mail: & \normalfont\mail{fykos@fykos.cz}\\
\end{tabular}
\nopagebreak\smallskip

{\sffamily\FYKOS{} je také na Facebooku \raisebox{-0.2\baselineskip}{%
\opt{web}{\includegraphics[height=\baselineskip]{color/fb_logo.eps}}%
\opt{print}{\includegraphics[height=\baselineskip]{fb_logo.eps}}%
}

\href{http://www.facebook.com/Fykos}{\bfseries\slshape http://www.facebook.com/Fykos}}
}
\renewcommand\met@licence{
Fyzikální korespondenční seminář je organizován studenty UK~MFF.
Je zastřešen Oddělením pro vnější vztahy a~propagaci UK~MFF 
a~podporován Ústavem teoretické fyziky\newline
UK~MFF, jeho zaměstnanci a~Jednotou českých matematiků a~fyziků.
\nopagebreak\smallskip

{\footnotesize\setlength\baselineskip{1ex} Toto dílo je šířeno pod licencí Creative Commons 
Attribution-Share Alike 3.0 Unported.\newline
Pro zobrazení kopie této licence, navštivte 
\url{http://creativecommons.org/licenses/by-sa/3.0/}.\par}}
% to have initialized counters
\AtBeginDocument{
\hypersetup{
    pdftitle={FYKOS, \Roman{year}. ročník, \arabic{batch}. číslo},    % title
    pdfauthor={Organizátoři FYKOSu <fykos@fykos.cz},     % author
    pdfsubject={Fyzikální korespondenční seminář MFF UK},   % subject of the document
}}} % end FYKOS


% VÝFUK

\ProcessOptions\relax