% fkssugar.sty
%
%    Copyright 2011 Michal Koutny
%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{fksfigures}[2011/09/11 FYKOS figures manipulation]

\RequirePackage{graphicx}
\RequirePackage{wrapfig}
%\RequirePackage{color}
\RequirePackage{ifthen}
\RequirePackage[all]{hypcap} % links jump to an image, not the caption

% commands for inserting figures syntax is command[position]{filename}{caption}{label}
\newcommand\fullfig[3]{%
\begin{figure}[h]
\centering
\includegraphics{#1}
\ifthenelse{\equal{#2}{}}{}{\caption{#2}}
\ifthenelse{\equal{#3}{}}{}{\label{#3}}
\end{figure}\ignorespaces}

\newcommand\plotfig[4][h]{% filename is full, TODO (path)
\ifthenelse{\equal{#3}{}}{\capstartfalse}{}
\begin{figure}[#1]
\centering
\input{#2}
\ifthenelse{\equal{#3}{}}{}{\caption{#3}}
\ifthenelse{\equal{#4}{}}{}{\label{#4}}
\end{figure}%
\ifthenelse{\equal{#3}{}}{\capstarttrue}{}%
\ignorespaces}

%specialized for third illustration figures
\newcommand\illfig[4][o]{%
\begin{wrapfigure}{#1}{0.35\textwidth}
  \centering
    \includegraphics[width=0.33\textwidth]{#2}
  \ifthenelse{\equal{#3}{}}{}{\caption{#2}}
  \ifthenelse{\equal{#4}{}}{}{\label{#3}}
\end{wrapfigure}\ignorespaces}
